{
    "name": "mini-RAG Dev Container",
    "image": "mcr.microsoft.com/devcontainers/python:3.11-bullseye",   

    "features": {
        "ghcr.io/devcontainers/features/python:1": {
            "installTools": "true",
            "toolsToInstall": "uv,ruff,mypy,bandit",
            "version": "3.11"
        },
        "ghcr.io/devcontainers/features/docker-in-docker":{},
        "ghcr.io/devcontainers-extra/features/direnv:1":{},
        "ghcr.io/devcontainers-extra/features/tmux-apt-get:1":{},
        "ghcr.io/devcontainers-extra/features/mise:1":{},
        "ghcr.io/devcontainers-extra/features/kind:1":{},
        "ghcr.io/rails/devcontainer/features/postgres-client:1.1.2":{}
    },

    "customizations": {
        "vscode": {
            "settings": {
                "python.defaultInterpreterPath": "/workspaces/mini-RAG/.venv/bin/python",
                "python.terminal.activateEnvironment": true,
                "terminal.integrated.defaultProfile.linux": "bash",
                "terminal.integrated.profiles.linux": {
                    "bash": {
                        "path": "bash",
                        "args": ["-l"]
                    }
                }
            },
            "extensions": [
                "ms-python.python",
                "ms-python.debugpy",
                "ms-python.vscode-pylance",
                "ms-python.isort",
                "ms-toolsai.jupyter",
                "ms-vscode.makefile-tools"
            ]
        }
    },
    "remoteUser": "root",
    "postCreateCommand": "bash .devcontainer/postCreateCommand.sh",
    "postStartCommand": "git config --global --add safe.directory ${containerWorkspaceFolder}"
}